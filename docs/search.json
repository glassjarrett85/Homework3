[
  {
    "objectID": "Glass_HW3.html",
    "href": "Glass_HW3.html",
    "title": "ST558 Assignment 3",
    "section": "",
    "text": "Characterize the post-treatment (or placebo) blood pressure measurement as optimal (\\(\\le 120\\)), borderline (\\(120 &lt; bp \\le 130\\)), and high (\\(&gt; 130\\)). Create a new column in each data frame from above called status.\n\n\nbp_list$treatment['status'] &lt;- character(20)\nbp_list$placebo['status'] &lt;- character(10)\n\n\nFor the listed non-placebo data frame, create a for loop and use if/then/else logic to create the status column’s values.\n\n\nfor (i in 1:nrow(bp_list$treatment)) {\n  bp &lt;- bp_list$treatment[i, \"post_bp\"]\n  if (bp &lt;= 120) { result &lt;- \"optimal\" }\n    else if (bp &gt; 120 & bp &lt;= 130) { result &lt;- \"borderline\" }\n      else { result &lt;- \"high\" }\n  bp_list$treatment[i, \"status\"] &lt;- result\n}\nbp_list$treatment |&gt; knitr::kable()\n\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nnormal\nstatus\n\n\n\n\nSubject_1\nSubject_1\n120\n127\n-7\nFALSE\nborderline\n\n\nSubject_2\nSubject_2\n151\n145\n6\nFALSE\nhigh\n\n\nSubject_3\nSubject_3\n125\n135\n-10\nFALSE\nhigh\n\n\nSubject_4\nSubject_4\n126\n122\n4\nFALSE\nborderline\n\n\nSubject_5\nSubject_5\n115\n115\n0\nTRUE\noptimal\n\n\nSubject_6\nSubject_6\n132\n122\n10\nFALSE\nborderline\n\n\nSubject_7\nSubject_7\n132\n123\n9\nFALSE\nborderline\n\n\nSubject_8\nSubject_8\n129\n126\n3\nFALSE\nborderline\n\n\nSubject_9\nSubject_9\n134\n126\n8\nFALSE\nborderline\n\n\nSubject_10\nSubject_10\n139\n129\n10\nFALSE\nborderline\n\n\nSubject_11\nSubject_11\n127\n132\n-5\nFALSE\nhigh\n\n\nSubject_12\nSubject_12\n122\n146\n-24\nFALSE\nhigh\n\n\nSubject_13\nSubject_13\n127\n120\n7\nFALSE\noptimal\n\n\nSubject_14\nSubject_14\n135\n114\n21\nTRUE\noptimal\n\n\nSubject_15\nSubject_15\n133\n121\n12\nFALSE\nborderline\n\n\nSubject_16\nSubject_16\n128\n120\n8\nFALSE\noptimal\n\n\nSubject_17\nSubject_17\n147\n128\n19\nFALSE\nborderline\n\n\nSubject_18\nSubject_18\n138\n120\n18\nFALSE\noptimal\n\n\nSubject_19\nSubject_19\n140\n133\n7\nFALSE\nhigh\n\n\nSubject_20\nSubject_20\n132\n115\n17\nTRUE\noptimal\n\n\n\n\n\n\nRepeat for the placebo data frame.\n\n\nfor (i in 1:nrow(bp_list$placebo)) {\n  bp &lt;- bp_list$placebo[i, \"post_bp\"]\n  if (bp &lt;= 120) { result &lt;- \"optimal\" }\n    else if (bp &gt; 120 & bp &lt;= 130) { result &lt;- \"borderline\" }\n      else { result &lt;- \"high\" }\n  bp_list$placebo[i, \"status\"] &lt;- result\n}\nbp_list$placebo |&gt; knitr::kable()\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nnormal\nstatus\n\n\n\n\nSubject_1\n138\n105\n33\nTRUE\noptimal\n\n\nSubject_2\n135\n136\n-1\nFALSE\nhigh\n\n\nSubject_3\n147\n123\n24\nFALSE\nborderline\n\n\nSubject_4\n117\n130\n-13\nFALSE\nborderline\n\n\nSubject_5\n152\n134\n18\nFALSE\nhigh\n\n\nSubject_6\n134\n143\n-9\nFALSE\nhigh\n\n\nSubject_7\n114\n135\n-21\nFALSE\nhigh\n\n\nSubject_8\n121\n139\n-18\nFALSE\nhigh\n\n\nSubject_9\n131\n120\n11\nFALSE\noptimal\n\n\nSubject_10\n130\n124\n6\nFALSE\nborderline"
  },
  {
    "objectID": "Glass_HW3.html#task-1-control-flow-practice",
    "href": "Glass_HW3.html#task-1-control-flow-practice",
    "title": "ST558 Assignment 3",
    "section": "",
    "text": "Characterize the post-treatment (or placebo) blood pressure measurement as optimal (\\(\\le 120\\)), borderline (\\(120 &lt; bp \\le 130\\)), and high (\\(&gt; 130\\)). Create a new column in each data frame from above called status.\n\n\nbp_list$treatment['status'] &lt;- character(20)\nbp_list$placebo['status'] &lt;- character(10)\n\n\nFor the listed non-placebo data frame, create a for loop and use if/then/else logic to create the status column’s values.\n\n\nfor (i in 1:nrow(bp_list$treatment)) {\n  bp &lt;- bp_list$treatment[i, \"post_bp\"]\n  if (bp &lt;= 120) { result &lt;- \"optimal\" }\n    else if (bp &gt; 120 & bp &lt;= 130) { result &lt;- \"borderline\" }\n      else { result &lt;- \"high\" }\n  bp_list$treatment[i, \"status\"] &lt;- result\n}\nbp_list$treatment |&gt; knitr::kable()\n\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nnormal\nstatus\n\n\n\n\nSubject_1\nSubject_1\n120\n127\n-7\nFALSE\nborderline\n\n\nSubject_2\nSubject_2\n151\n145\n6\nFALSE\nhigh\n\n\nSubject_3\nSubject_3\n125\n135\n-10\nFALSE\nhigh\n\n\nSubject_4\nSubject_4\n126\n122\n4\nFALSE\nborderline\n\n\nSubject_5\nSubject_5\n115\n115\n0\nTRUE\noptimal\n\n\nSubject_6\nSubject_6\n132\n122\n10\nFALSE\nborderline\n\n\nSubject_7\nSubject_7\n132\n123\n9\nFALSE\nborderline\n\n\nSubject_8\nSubject_8\n129\n126\n3\nFALSE\nborderline\n\n\nSubject_9\nSubject_9\n134\n126\n8\nFALSE\nborderline\n\n\nSubject_10\nSubject_10\n139\n129\n10\nFALSE\nborderline\n\n\nSubject_11\nSubject_11\n127\n132\n-5\nFALSE\nhigh\n\n\nSubject_12\nSubject_12\n122\n146\n-24\nFALSE\nhigh\n\n\nSubject_13\nSubject_13\n127\n120\n7\nFALSE\noptimal\n\n\nSubject_14\nSubject_14\n135\n114\n21\nTRUE\noptimal\n\n\nSubject_15\nSubject_15\n133\n121\n12\nFALSE\nborderline\n\n\nSubject_16\nSubject_16\n128\n120\n8\nFALSE\noptimal\n\n\nSubject_17\nSubject_17\n147\n128\n19\nFALSE\nborderline\n\n\nSubject_18\nSubject_18\n138\n120\n18\nFALSE\noptimal\n\n\nSubject_19\nSubject_19\n140\n133\n7\nFALSE\nhigh\n\n\nSubject_20\nSubject_20\n132\n115\n17\nTRUE\noptimal\n\n\n\n\n\n\nRepeat for the placebo data frame.\n\n\nfor (i in 1:nrow(bp_list$placebo)) {\n  bp &lt;- bp_list$placebo[i, \"post_bp\"]\n  if (bp &lt;= 120) { result &lt;- \"optimal\" }\n    else if (bp &gt; 120 & bp &lt;= 130) { result &lt;- \"borderline\" }\n      else { result &lt;- \"high\" }\n  bp_list$placebo[i, \"status\"] &lt;- result\n}\nbp_list$placebo |&gt; knitr::kable()\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nnormal\nstatus\n\n\n\n\nSubject_1\n138\n105\n33\nTRUE\noptimal\n\n\nSubject_2\n135\n136\n-1\nFALSE\nhigh\n\n\nSubject_3\n147\n123\n24\nFALSE\nborderline\n\n\nSubject_4\n117\n130\n-13\nFALSE\nborderline\n\n\nSubject_5\n152\n134\n18\nFALSE\nhigh\n\n\nSubject_6\n134\n143\n-9\nFALSE\nhigh\n\n\nSubject_7\n114\n135\n-21\nFALSE\nhigh\n\n\nSubject_8\n121\n139\n-18\nFALSE\nhigh\n\n\nSubject_9\n131\n120\n11\nFALSE\noptimal\n\n\nSubject_10\n130\n124\n6\nFALSE\nborderline"
  },
  {
    "objectID": "Glass_HW3.html#task-2-function-writing",
    "href": "Glass_HW3.html#task-2-function-writing",
    "title": "ST558 Assignment 3",
    "section": "Task 2: Function Writing",
    "text": "Task 2: Function Writing\nContinue the previous example.\n\nWrite a function that\n\ntakes in a list with two data frames in it (a treatment and a placebo data frame) as an argument. Give no default value.\ntakes in an R function (that would find a sumamry of a numeric column) with the default value being set to \"mean\" (notice this is a quoted string).\nFinds the statistic of interest (as defined by the user input) for the pre, post, and diff columns of both data frames.\n\nUse my_fun &lt;- get(stat) within the function to get the function from the quoted string.\n\nThese six values should then be returned as a named list with meaningful names - this is a somewhat challenging part!\n\nCreate a vector of names that is created dynamically based on the statistic passed, a vector with actual statistic values, and then assign names() to the vector. Return that.\n\nApply function to the list of data frames from the previous question. Use it without specifying the statistic, then by specifying statistics \"var\", \"sd\", \"min\", and \"max\".\n\n\n\n# function `run_stat` takes variables `df_list` and `stat`\nrun_stat &lt;- function(df_list, stat=\"mean\") {\n  # df_list is a list containing two separate data frames, with the same column names.\n  # Get the function that is defined in `stat` (defaults to `mean`)\n  my_fun &lt;- get(stat)\n  \n  # Vector consisting of the columns to be tested from each data frame.\n  vars &lt;- c(\"pre_bp\", \"post_bp\", \"diff_bp\")\n  \n  # Create a vector with the results of the user-defined statistic on 'pre', 'post', and 'diff'\n  # columns from both data frames within the df_list variable.\n  # Running SAPPLY of the selected function on a data frame consisting of just these columns\n  # will produce vectors of the Statistic for the respective columns.\n  result &lt;- c(\n    sapply(df_list$treatment[, vars], my_fun),\n    sapply(df_list$placebo[, vars], my_fun)\n  )\n  \n  # Create new names for these variables, based on \"[treatment arm]-[stat]-[var]\".\n  result_names &lt;- c()\n  for (i in c(\"treatment\", \"placebo\")) {\n    for (j in vars) {\n      result_names &lt;- c(result_names, paste(i, stat, j, sep=\"-\"))\n    }\n  }\n  names(result) &lt;- result_names\n  result\n}\n\n# Running function without specifying a statistic\nrun_stat(bp_list)\n\n treatment-mean-pre_bp treatment-mean-post_bp treatment-mean-diff_bp \n                131.60                 125.95                   5.65 \n   placebo-mean-pre_bp   placebo-mean-post_bp   placebo-mean-diff_bp \n                131.90                 128.90                   3.00 \n\n# Running function, specifying 'var'\nrun_stat(bp_list, \"var\")\n\n treatment-var-pre_bp treatment-var-post_bp treatment-var-diff_bp \n             75.72632              78.99737             117.81842 \n   placebo-var-pre_bp   placebo-var-post_bp   placebo-var-diff_bp \n            149.87778             124.98889             341.33333 \n\n# Running function, specifying 'sd'\nrun_stat(bp_list, \"sd\")\n\n treatment-sd-pre_bp treatment-sd-post_bp treatment-sd-diff_bp \n            8.702087             8.888046            10.854419 \n   placebo-sd-pre_bp   placebo-sd-post_bp   placebo-sd-diff_bp \n           12.242458            11.179843            18.475209 \n\n# Running funnction, specifying \"min\"\nrun_stat(bp_list, \"min\")\n\n treatment-min-pre_bp treatment-min-post_bp treatment-min-diff_bp \n                  115                   114                   -24 \n   placebo-min-pre_bp   placebo-min-post_bp   placebo-min-diff_bp \n                  114                   105                   -21 \n\n# Running function, specifying \"max\"\nrun_stat(bp_list, \"max\")\n\n treatment-max-pre_bp treatment-max-post_bp treatment-max-diff_bp \n                  151                   146                    21 \n   placebo-max-pre_bp   placebo-max-post_bp   placebo-max-diff_bp \n                  152                   143                    33"
  }
]